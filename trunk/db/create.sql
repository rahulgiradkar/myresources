alter table CLIENTE_VIP drop constraint vcli_cli_fk;
alter table ITEM_NOTA drop constraint FK2838E19A883328DD;
alter table ITEM_NOTA drop constraint FK2838E19A56666BC3;
alter table NOTA_FISCAL drop constraint nf_cli_fk;
alter table PRODUTO drop constraint prod_cat_fk;
drop table CATEGORIA if exists;
drop table CLIENTE if exists;
drop table CLIENTE_VIP if exists;
drop table ITEM_NOTA if exists;
drop table NOTA_FISCAL if exists;
drop table PRODUTO if exists;
create table CATEGORIA (CAT_ID bigint generated by default as identity (start with 1), NOME varchar(255), primary key (CAT_ID), unique (NOME));
create table CLIENTE (CLI_ID bigint generated by default as identity (start with 1), nome varchar(50), cidade varchar(255), estado varchar(255), logradouro varchar(255), cep varchar(255), primary key (CLI_ID));
create table CLIENTE_VIP (VCLI_ID bigint not null, desconto float, primary key (VCLI_ID));
create table ITEM_NOTA (NF_ID bigint not null, quantidade integer not null, produto bigint not null, primary key (NF_ID, quantidade, produto));
create table NOTA_FISCAL (NF_ID bigint generated by default as identity (start with 1), numero varchar(50), CLI_ID bigint, primary key (NF_ID), unique (numero));
create table PRODUTO (PROD_ID bigint generated by default as identity (start with 1), tipo_produto char(1) not null, nome varchar(50) not null, preco double not null, CAT_ID bigint not null, peso double, versao varchar(14), primary key (PROD_ID), unique (nome));
alter table CLIENTE_VIP add constraint vcli_cli_fk foreign key (VCLI_ID) references CLIENTE;
alter table ITEM_NOTA add constraint FK2838E19A883328DD foreign key (NF_ID) references NOTA_FISCAL;
alter table ITEM_NOTA add constraint FK2838E19A56666BC3 foreign key (produto) references PRODUTO;
alter table NOTA_FISCAL add constraint nf_cli_fk foreign key (CLI_ID) references CLIENTE;
alter table PRODUTO add constraint prod_cat_fk foreign key (CAT_ID) references CATEGORIA;
