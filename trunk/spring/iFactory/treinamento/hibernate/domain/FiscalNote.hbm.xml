<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC
        "-//Hibernate/Hibernate Mapping DTD 2.0//EN"
        "http://hibernate.sourceforge.net/hibernate-mapping-2.0.dtd">

<hibernate-mapping>

    <class name="iFactory.treinamento.hibernate.domain.FiscalNote" table="NOTA_FISCAL">
    	<!--cache usage="nonstrict-read-write"/-->
        <id name="id" column="NF_ID">
            <generator class="native"/>
        </id>

       	<property name="number" column="numero" length="50"/>

       	<many-to-one name="client" column="CLI_ID" outer-join="false" foreign-key="nf_cli_fk"/>

        <set name="itemNota" table="ITEM_NOTA" cascade="delete-orphan" lazy="true">
		    <key column="NF_ID"/>
		    <composite-element class="iFactory.treinamento.hibernate.domain.ItemNota">
		        <property name="quantity" column="quantidade" not-null="true"/>
		        <many-to-one name="product" column="produto" not-null="true"/>
		    </composite-element>
		</set>

		<!--map name="itemNota" table="ITEM_NOTA">
			<key column="IN_ID" foreign-key="in_nota_fk"/>
			<index-many-to-many  class="iFactory.treinamento.hibernate.domain.Produto"
				foreign-key="in_nf_fk" column="PROD_ID">
			</index-many-to-many>
			<element type="integer" column="QUANTIDADE" not-null="true"/>
		</map-->

    </class>


</hibernate-mapping>